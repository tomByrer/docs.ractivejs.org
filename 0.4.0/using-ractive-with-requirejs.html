<!doctype html>
<html lang='en-GB'>
<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=Edge,chrome=1'>

	<title> Using Ractive with RequireJS | Docs | Ractive.js </title >

	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>

	<link rel='icon' type='image/png' href='../assets/favicon.png'>
	<link rel='stylesheet' href='../min.css'>

	<!--[if lte IE 8]>
		<script src='assets/respond.min.js'></script>
	<![endif]-->

</head>

<body class='example'>

	<nav>
	<div class='nav-inner'>
		<a href='http://ractivejs.org'>Ractive.js</a>

		<ul>
			<li><a href='http://ractivejs.org/60-second-setup'>60 second setup</a></li>
			<li><a href='http://learn.ractivejs.org'>Tutorials</a></li>
			<li><a href='http://examples.ractivejs.org'>Examples</a></li>
			<li class="selected"><a href='http://docs.ractivejs.org'>Docs</a></li>
			<li><a href='http://docs.ractivejs.org/latest/plugins'>Plugins</a></li>
			<li><a href='http://blog.ractivejs.org'>Blog</a></li>
			<li class='github-small'><a href='https://github.com/ractivejs/ractive'>GitHub</a></li>
		</ul>

		<a class='github-wide' href='https://github.com/ractivejs/ractive'>GitHub</a>

		<button id='nav-toggle'>&#9776;</button>
	</div>
</nav>


	<main>
		<div class='content'>
			<header class='main-header'>
				<h1>Using Ractive with RequireJS</h1>
				<a class='edit-link' href='https://github.com/ractivejs/docs.ractivejs.org/edit/master/docs/0.4.0/Using Ractive with RequireJS.md.hbs'>edit this page</a>
			</header>

			<p><em>Psst! Looking for the <a href="https://github.com/RactiveJS/requirejs-ractive/tree/master/sample">Ractive + RequireJS sample application</a>?</em></p>
<p>If Ractive detects that you&#39;re using an <a href="https://github.com/amdjs/amdjs-api/wiki/AMD">AMD</a> module loader (in other words, if <code>typeof define !== &#39;undefined&#39; &amp;&amp; define.amd</code>) such as <a href="http://requirejs.org/">RequireJS</a>, it will register itself as an AMD module rather than as a browser global.</p>
<p>You&#39;d then use Ractive the same as you&#39;d use any other module, such as in this (contrived, oversimple) example:</p>
<pre><code class="language-js"><span class="comment">// define our main application, with an 'init' method to call when</span>
<span class="comment">// the DOM is ready etc</span>
define([ <span class="string">'jquery'</span>, <span class="string">'Ractive'</span> ], <span class="function"><span class="keyword">function</span> <span class="params">( $, Ractive )</span> {</span>

  <span class="string">'use strict'</span>;

  <span class="keyword">var</span> app = {
    init: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

      <span class="comment">// load our template with jQuery AJAX</span>
      $.ajax( <span class="string">'templates/main.html'</span> ).then( <span class="function"><span class="keyword">function</span> <span class="params">( mainTemplate )</span> {</span>

        <span class="comment">// render our main view</span>
        <span class="keyword">this</span>.mainView = <span class="keyword">new</span> Ractive({
          el: <span class="string">'container'</span>,
          template: mainTemplate
        });
      });
    }
  };

  <span class="keyword">return</span> app;

});</code></pre>
<h2 id="loading-templates-without-ajax">Loading templates without AJAX</h2>
<p>We can do one better than that. Rather than stuffing our code full of asynchronous logic, we can use AMD to do the donkey work for us.</p>
<p>Include the <a href="https://github.com/requirejs/text">RequireJS text loader plugin</a> in the root of your project (or whatever you&#39;ve specified as the RequireJS <code>baseUrl</code>) - you can now do this (note we no longer require jQuery):</p>
<pre><code class="language-js"><span class="comment">// define our main application, with an 'init' method to call when</span>
<span class="comment">// the DOM is ready etc</span>
define([ <span class="string">'Ractive'</span>, <span class="string">'text!templates/main.html'</span> ], <span class="function"><span class="keyword">function</span> <span class="params">( Ractive, mainTemplate )</span> {</span>

  <span class="string">'use strict'</span>;

  <span class="keyword">var</span> app = {
    init: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

      <span class="comment">// render our main view</span>
      <span class="keyword">this</span>.mainView = <span class="keyword">new</span> Ractive({
        el: <span class="string">'container'</span>,
        template: mainTemplate
      });
    }
  };

  <span class="keyword">return</span> app;

});</code></pre>
<p>But we can do even better. If you use the <a href="https://github.com/RactiveJS/require-ractive-plugin">Ractive RequireJS loader plugin</a>, it will pre-parse the template for us. We&#39;ll see in a moment why that&#39;s useful.</p>
<p>Put the plugin in the same folder as the text loader plugin (which the Ractive plugin depends on). Note that we can omit the <code>&#39;.html&#39;</code> file extension:</p>
<pre><code class="language-js"><span class="comment">// define our main application, with an 'init' method to call when</span>
<span class="comment">// the DOM is ready etc</span>
define([ <span class="string">'Ractive'</span>, <span class="string">'rv!templates/main'</span> ], <span class="function"><span class="keyword">function</span> <span class="params">( Ractive, mainTemplate )</span> {</span>

  <span class="string">'use strict'</span>;

  <span class="keyword">var</span> app = {
    init: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

      <span class="comment">// render our main view</span>
      <span class="keyword">this</span>.mainView = <span class="keyword">new</span> Ractive({
        el: <span class="string">'container'</span>,
        template: mainTemplate
      });
    }
  };

  <span class="keyword">return</span> app;

});</code></pre>
<h2 id="using-the-optimiser">Using the optimiser</h2>
<p>You might wonder why the third example is better than the second - after all, we&#39;ve basically just added another middleman, right?</p>
<p>The answer is that you can now use the <a href="http://requirejs.org/docs/optimization.html">RequireJS optimiser</a> to parse your template as part of your build process. The optimiser converts your project into a single minified file, which in most cases makes your app much quicker to load for the end user (because the browser only needs to make one HTTP request, and the total file size is reduced).</p>
<p>By pre-parsing templates, we save browsers having to do it, which shaves a few milliseconds off at render time.</p>
<p>So you get the best of both worlds - your templates stay neatly organised in their own files, where you can easily edit them, and the user gets the best possible experience.</p>
<p>If you&#39;re <em>really</em> anal about performance, you can tweak things further still. We don&#39;t need the loader plugins any more (because everything has been inlined), but they&#39;re still there in our optimised file. We can instruct the optimiser to &#39;stub them out&#39;, saving ourselves a few precious bytes. In your optimiser config, add the following option:</p>
<pre><code class="language-js">({
    stubModules: [ <span class="string">'rv'</span>, <span class="string">'text'</span> ]
})</code></pre>
<p>(This assumes you&#39;re using a <code>build.js</code> file, or a build system like Grunt. If you&#39;re using the optimiser on the command line it will be different - consult the <a href="http://requirejs.org/docs/optimization.html">documentation</a> for more info.)</p>
<p>Getting to grips with AMD and RequireJS can be tricky at first, but it&#39;s worth the effort. Good luck!</p>

		</div>

		<aside class="left-nav">
			<section>
	<h1>Introduction</h1>
	<ul>
		<li><a href="get-started">Get started</a></li>
		<li><a href="get-support">Get support</a></li>
		<li><a href="contributing">Contributing</a></li>
		<li><a href="get-started-with-node-js">Get started with node.js</a></li>
	</ul>
</section>

<section>
	<h1>API Reference</h1>
	<h2>new Ractive(...)</h2>
	<ul>
		<li><a href="initialisation-options">Initialisation options</a></li>
	</ul>

	<h2>Instance methods</h2>
	<ul>
		<li><a href="ractive-add">ractive.add()</a></li>
		<li><a href="ractive-animate">ractive.animate()</a></li>
		<li><a href="ractive-detach">ractive.detach()</a></li>
		<li><a href="ractive-find">ractive.find()</a></li>
		<li><a href="ractive-findcomponent">ractive.findComponent()</a></li>
		<li><a href="ractive-findall">ractive.findAll()</a></li>
		<li><a href="ractive-findallcomponents">ractive.findAllComponents()</a></li>
		<li><a href="ractive-fire">ractive.fire()</a></li>
		<li><a href="ractive-get">ractive.get()</a></li>
		<li><a href="ractive-insert">ractive.insert()</a></li>
		<li><a href="ractive-merge">ractive.merge()</a></li>
		<li><a href="ractive-observe">ractive.observe()</a></li>
		<li><a href="ractive-off">ractive.off()</a></li>
		<li><a href="ractive-on">ractive.on()</a></li>
		<li><a href="ractive-render">ractive.render()</a></li>
		<li><a href="ractive-reset">ractive.reset()</a></li>
		<li><a href="ractive-set">ractive.set()</a></li>
		<li><a href="ractive-subtract">ractive.subtract()</a></li>
		<li><a href="ractive-teardown">ractive.teardown()</a></li>
		<li><a href="ractive-toggle">ractive.toggle()</a></li>
		<li><a href="ractive-tohtml">ractive.toHTML()</a></li>
		<li><a href="ractive-update">ractive.update()</a></li>
		<li><a href="ractive-updatemodel">ractive.updateModel()</a></li>
	</ul>

	<h2>Instance properties</h2>
	<ul>
		<li><a href="ractive-nodes">ractive.nodes</a></li>
		<li><a href="ractive-transitions-instance">ractive.transitions</a></li>
		<li><a href="ractive-partials-instance">ractive.partials</a></li>
	</ul>

	<h2>Static methods</h2>
	<ul>
		<li><a href="ractive-parse">Ractive.parse()</a></li>
		<li><a href="ractive-extend">Ractive.extend()</a></li>
	</ul>

	<h2>Static properties</h2>
	<ul>
		<li><a href="ractive-defaults">Ractive.defaults</a></li>
	</ul>
</ul>

<section>
	<h1>Using plugins</h1>
	<ul>
		<li><a href="plugins">List of plugins</a></li>
		<li><a href="adaptors">Adaptors</a></li>
		<li><a href="decorators">Decorators</a></li>
		<li><a href="events">Events</a></li>
		<li><a href="transitions">Transitions</a></li>
	</ul>
</section>

<section>
	<h1>Writing plugins</h1>
	<ul>
		<li><a href="writing-adaptor-plugins">Adaptors</a></li>
		<li><a href="writing-decorator-plugins">Decorators</a></li>
		<li><a href="writing-event-plugins">Events</a></li>
		<li><a href="writing-transition-plugins">Transitions</a></li>
	</ul>
</section>

<section>
	<h1>Glossary</h1>
	<ul>
		<li><a href="array-modification">Array modification</a></li>
		<li><a href="components">Components</a></li>
		<li> <a href="computed-properties">Computed Properties</a></li>
		<li><a href="dependants">Dependants</a></li>
		<li><a href="expressions">Expressions</a></li>
		<li><a href="keypaths">Keypaths</a></li>
		<li><a href="magic-mode">Magic mode</a></li>
		<li><a href="mustaches">Mustaches</a></li>
		<li><a href="observers">Observers</a></li>
		<li><a href="parallel-dom">Parallel DOM</a></li>
		<li><a href="partials">Partials</a></li>
		<li><a href="promises">Promises</a></li>
		<li><a href="references">References</a></li>
		<li><a href="templates">Templates</a></li>
		<li><a href="two-way-binding">Two-way binding</a></li>
	</ul>
</section>

<section>
	<h1>Specific versions</h1>

	<ul>
		<li><a href='../0.3.9'>0.3.9</a></li>
		<li><a href='../0.4.0'>0.4.0</a></li>
	</ul>
</section>

		</aside>
	</main>

	<footer>
	<p>Ractive.js is a free and open source project released under the MIT license.</p>
</footer>


	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-5602942-6', 'ractivejs.org');
	ga('send', 'pageview');
</script>


	<script src='../assets/nav.js'></script>

</body>
</html>
